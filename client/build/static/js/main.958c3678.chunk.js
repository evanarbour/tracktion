(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{167:function(e,n,t){},183:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(52),i=t.n(r),o=(t(167),t(21)),s=t(99),l=t(20),d=t(143),j=t(233),b=t(235),m=t(231),u=t(141),h=t(12);t(144);var O=t(1),p=Object(a.createContext)();p.Provider;var x=function(){return Object(O.jsx)("div",{children:"NAVBAR TEXT GOES HERE!"})};var g,f,v,w,y,S,k,D,$,W,_,A=function(){return Object(O.jsx)("footer",{children:"FOOTER TEXT GOES HERE!"})},I=t(6),C=t(28),E=t.n(C),G=t(41),T=t(240),H=t(241),R=t(227),F=t(232),U=t(249),q=t(237),N=t(245),V=t(242),B=t(248),P=t(97),Y=t.n(P),J=t(244),L=t(247),Q=t(142),X=t(243),z=t(250),M=t(23),K=t(234),Z=Object(K.a)(g||(g=Object(M.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n            token\n            user {\n                _id\n                username\n                email\n                habits {\n                    _id\n                    name\n                    tracktionDays\n                    createdAt\n                }\n                sharedHabits {\n                    _id\n                    name\n                    tracktionDays\n                    createdAt\n                }\n                goals {\n                    _id\n                    name\n                    goalSteps {\n                        _id\n                        name\n                        completed\n                    }\n                    goalEndDate\n                    createdAt\n                }\n            }\n        }\n    }\n"]))),ee=Object(K.a)(f||(f=Object(M.a)(["\n    mutation addUser($username: String!, $email: String!, $password: String!) {\n        addUser(username: $username, email: $email, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n"]))),ne=Object(K.a)(v||(v=Object(M.a)(["\n    mutation addHabit($name: String!) {\n        addHabit(name: $name) {\n            _id\n            name\n            tracktionDays\n            createdAt\n        }\n    }\n"]))),te=Object(K.a)(w||(w=Object(M.a)(["\n    mutation addGoal($name: String!, $steps: [String]!, $endDate: Date) {\n        addGoal(name: $name, steps: $steps, endDate: $endDate) {\n            _id\n            name\n            goalSteps {\n                _id\n                name\n                completed\n            }\n            goalEndDate\n            createdAt\n        }\n    }\n"]))),ae=Object(K.a)(y||(y=Object(M.a)(["\n    mutation addGoalStep($id: ID!, $name: String!) {\n        addGoalStep(goalId: $id, name: $name) {\n            _id\n            name\n            goalSteps {\n                _id\n                name\n                completed\n            }\n            goalEndDate\n            createdAt\n        }\n    }\n"]))),ce=(Object(K.a)(S||(S=Object(M.a)(["\n    mutation updateHabit($id: ID!, $input: TracktionDaysInput) {\n        updateHabit(habitId: $id, input: $input) {\n            _id\n            name\n            tracktionDays\n            createdAt\n        }\n    }\n"]))),Object(K.a)(k||(k=Object(M.a)(["\n    mutation updateGoal($id: ID!, $endDate: Date) {\n        updateGoal(goalId: $id, endDate: $endDate) {\n            _id\n            name\n            goalSteps {\n                _id\n                name\n                completed\n            }\n            goalEndDate\n            createdAt\n        }\n    }\n"]))),Object(K.a)(D||(D=Object(M.a)(["\n    mutation updateGoalStep($id: ID!, $completed: Boolean!) {\n        updateGoalStep(goalStepId: $id, completed: $completed) {\n            _id\n            name\n            completed\n        }\n    }\n"]))),Object(K.a)($||($=Object(M.a)(["\n    mutation removeHabit($id: ID!) {\n        removeHabit(habitId: $id) {\n            _id\n            name\n            tracktionDays\n            createdAt\n        }\n    }\n"]))),Object(K.a)(W||(W=Object(M.a)(["\n    mutation removeGoal($id: ID!) {\n        removeGoal(goalId: $id) {\n            _id\n            name\n            goalSteps {\n                _id\n                name\n                completed\n            }\n            goalEndDate\n            createdAt\n        }\n    }\n"]))),Object(K.a)(_||(_=Object(M.a)(["\n    mutation removeGoalStep($id: ID!) {\n        removeGoalStep(goalStepId: $id) {\n            _id\n            name\n            completed\n        }\n    }\n"]))),t(91)),re=t(92),ie=t(113),oe=t.n(ie),se=new(function(){function e(){Object(ce.a)(this,e)}return Object(re.a)(e,[{key:"getProfile",value:function(){return oe()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return oe()(e).exp<Date.now()/1e3}catch(n){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}());function le(e){return Object(O.jsxs)(J.a,Object(o.a)(Object(o.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(O.jsx)(N.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var de=Object(Q.a)();function je(){var e=Object(a.useState)({email:"",password:""}),n=Object(h.a)(e,2),t=n[0],c=n[1],r=Object(z.a)(Z),i=Object(h.a)(r,2),s=i[0],l=(i[1].error,function(){var e=Object(G.a)(E.a.mark((function e(n){var a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,s({variables:{email:t.email,password:t.password}});case 4:a=e.sent,c=a.data.login.token,se.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}()),d=function(e){var n=e.target,a=n.name,r=n.value;c(Object(o.a)(Object(o.a)({},t),{},Object(I.a)({},a,r)))};return Object(O.jsx)(X.a,{theme:de,children:Object(O.jsxs)(L.a,{component:"main",maxWidth:"xs",children:[Object(O.jsx)(R.a,{}),Object(O.jsxs)(B.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(T.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(O.jsx)(Y.a,{})}),Object(O.jsx)(J.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(O.jsxs)(B.a,{component:"form",onSubmit:l,noValidate:!0,sx:{mt:1},children:[Object(O.jsx)(F.a,{margin:"normal",required:!0,fullWidth:!0,placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:d}),Object(O.jsx)(F.a,{margin:"normal",required:!0,fullWidth:!0,placeholder:"******",name:"password",type:"password",id:"password",onChange:d}),Object(O.jsx)(U.a,{control:Object(O.jsx)(q.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(O.jsx)(H.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(O.jsxs)(V.a,{container:!0,children:[Object(O.jsx)(V.a,{item:!0,xs:!0,children:Object(O.jsx)(N.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(O.jsx)(V.a,{item:!0,children:Object(O.jsx)(N.a,{href:"./SignUp",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(O.jsx)(le,{sx:{mt:8,mb:4}})]})})}function be(e){return Object(O.jsxs)(J.a,Object(o.a)(Object(o.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(O.jsx)(N.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var me=Object(Q.a)();function ue(){var e=Object(a.useState)({username:"",email:"",password:""}),n=Object(h.a)(e,2),t=n[0],c=n[1],r=Object(z.a)(ee),i=Object(h.a)(r,1)[0],s=function(){var e=Object(G.a)(E.a.mark((function e(n){var a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,i({variables:{username:t.username,email:t.email,password:t.password}});case 3:a=e.sent,c=a.data.addUser.token,se.login(c);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(e){var n=e.target,a=n.name,r=n.value;c(Object(o.a)(Object(o.a)({},t),{},Object(I.a)({},a,r)))};return Object(O.jsx)(X.a,{theme:me,children:Object(O.jsxs)(L.a,{component:"main",maxWidth:"xs",children:[Object(O.jsx)(R.a,{}),Object(O.jsxs)(B.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(T.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(O.jsx)(Y.a,{})}),Object(O.jsx)(J.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(O.jsxs)(B.a,{component:"form",noValidate:!0,onSubmit:s,sx:{mt:3},children:[Object(O.jsxs)(V.a,{container:!0,spacing:2,children:[Object(O.jsx)(V.a,{item:!0,xs:12,children:Object(O.jsx)(F.a,{autoComplete:"given-name",required:!0,fullWidth:!0,placeholder:"username",name:"username",type:"username",id:"username",onChange:l})}),Object(O.jsx)(V.a,{item:!0,xs:12,children:Object(O.jsx)(F.a,{required:!0,fullWidth:!0,placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:l})}),Object(O.jsx)(V.a,{item:!0,xs:12,children:Object(O.jsx)(F.a,{required:!0,fullWidth:!0,placeholder:"******",name:"password",type:"password",id:"pwd",onChange:l})})]}),Object(O.jsx)(H.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(O.jsx)(V.a,{container:!0,justifyContent:"flex-end",children:Object(O.jsx)(V.a,{item:!0,children:Object(O.jsx)(N.a,{href:"/SignIn",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(O.jsx)(be,{sx:{mt:5}})]})})}var he,Oe=function(){},pe=t(238),xe=t(98),ge=t.n(xe),fe=Object(Q.a)(),ve=function(){var e=Object(a.useState)(""),n=Object(h.a)(e,2),t=n[0],c=n[1],r=Object(z.a)(ne),i=Object(h.a)(r,2),o=i[0],s=(i[1].error,function(){var e=Object(G.a)(E.a.mark((function e(n){var a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,o({variables:{name:t}});case 4:a=e.sent,c=a.data,window.location.reload(),console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}());return Object(O.jsx)(X.a,{theme:fe,children:Object(O.jsxs)(L.a,{component:"main",maxWidth:"lg",children:[Object(O.jsx)(R.a,{}),Object(O.jsxs)(B.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(T.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(O.jsx)(ge.a,{})}),Object(O.jsx)(J.a,{component:"h1",variant:"h5",children:"Add New Habit"}),Object(O.jsxs)(B.a,{component:"form",onSubmit:s,noValidate:!0,sx:{mt:1},children:[Object(O.jsx)(F.a,{margin:"normal",fullWidth:!0,id:"goal",label:"New Habit",value:t,onChange:function(e){return c(e.target.value)},name:"habit",autoComplete:"habit",autoFocus:!0}),Object(O.jsx)(H.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Save Habit"})]})]})]})})},we=Object(Q.a)(),ye=function(e){e.user;return Object(O.jsx)(X.a,{theme:we,children:Object(O.jsxs)(L.a,{component:"main",maxWidth:"lg",children:[Object(O.jsx)(R.a,{}),Object(O.jsx)(V.a,{container:!0,spacing:2,children:Object(O.jsx)(V.a,{item:!0,xs:5})})]})})},Se=t(18),ke=Object(K.a)(he||(he=Object(M.a)(["\n    query getUser($username: String!) {\n        user(username: $username) {\n            _id\n            username\n            email\n            habits {\n                _id\n                name\n                tracktionDays\n                createdAt\n            }\n            sharedHabits {\n                _id\n                name\n                tracktionDays\n                createdAt\n            }\n            goals {\n                _id\n                name\n                goalSteps {\n                    _id\n                    name\n                    completed\n                }\n                goalEndDate\n                createdAt\n            }\n        }\n    }\n"]))),De=t(230),$e=t(229),We=Object(Q.a)(),_e=function(){var e=Object(a.useState)({name:"",steps:"",endDate:""}),n=Object(h.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(0),i=Object(h.a)(r,2),s=(i[0],i[1]),l=Object(z.a)(te,{update:function(e,n){var t=n.data.addGoal;try{var a=e.readQuery({query:ke}).goals;e.writeQuery({query:ke,data:{goals:[t].concat(Object(Se.a)(a))}})}catch(c){console.error(c)}}}),d=Object(h.a)(l,2),j=d[0],b=(d[1].error,function(){var e=Object(G.a)(E.a.mark((function e(n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,j({variables:Object(o.a)({},t)});case 4:a=e.sent,a.data,c({name:"",steps:"",date:""}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}()),m=function(e){var n=e.target,a=n.name,r=n.value;"name"===a&&r.length<=280?(c(Object(o.a)(Object(o.a)({},t),{},Object(I.a)({},a,r))),s(r.length)):"name"!==a&&c(Object(o.a)(Object(o.a)({},t),{},Object(I.a)({},a,r)))};return Object(O.jsx)(X.a,{theme:We,children:Object(O.jsxs)(L.a,{component:"main",maxWidth:"lg",children:[Object(O.jsx)(R.a,{}),Object(O.jsx)($e.a,{dateAdapter:De.a,children:"..."}),Object(O.jsxs)(B.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(T.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(O.jsx)(ge.a,{})}),Object(O.jsx)(J.a,{component:"h1",variant:"h5",children:"Add New Goal"}),Object(O.jsxs)(B.a,{component:"form",onSubmit:b,noValidate:!0,sx:{mt:1},children:[Object(O.jsx)(F.a,{margin:"normal",fullWidth:!0,id:"name",placeholder:"New Goal",value:t.name,onChange:m,name:"name",autoComplete:"name",autoFocus:!0}),Object(O.jsx)(F.a,{margin:"normal",fullWidth:!0,id:"date",placeholder:"Goal End Date",value:t.endDate,onChange:m,name:"endDate",autoComplete:"endDate",autoFocus:!0}),Object(O.jsx)(F.a,{margin:"normal",fullWidth:!0,id:"goal",label:"First Step",value:t.steps,onChange:m,name:"steps",autoComplete:"steps",autoFocus:!0}),Object(O.jsx)(H.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Save Goal"})]})]})]})})},Ae=t(111),Ie=t.n(Ae),Ce=Object(Q.a)(),Ee=function(e){var n=e.goals,t=Object(a.useState)(""),c=Object(h.a)(t,2),r=c[0],i=c[1],o=Object(z.a)(ae),s=Object(h.a)(o,2),l=s[0],d=(s[1].error,function(){var e=Object(G.a)(E.a.mark((function e(n){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,l({variables:{name:r}});case 4:t=e.sent,a=t.data,window.location.reload(),console.log(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}());return Object(O.jsx)(X.a,{theme:Ce,children:Object(O.jsxs)(L.a,{component:"main",maxWidth:"lg",children:[Object(O.jsx)(R.a,{}),Object(O.jsxs)(B.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(T.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(O.jsx)(Ie.a,{})}),Object(O.jsx)("div",{children:n&&n.map((function(e){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h4",{children:["Goal One:",e.name]}),Object(O.jsxs)("ul",{children:[" ",e.steps]})]},e._id)}))}),Object(O.jsxs)(B.a,{component:"form",onSubmit:d,noValidate:!0,sx:{mt:1},children:[Object(O.jsx)(F.a,{margin:"normal",fullWidth:!0,id:"step",label:"Add Step",value:r,onChange:function(e){return i(e.target.value)},name:"step",autoComplete:"step",autoFocus:!0}),Object(O.jsx)(H.a,{type:"submit",variant:"contained",sx:{mt:3,mb:2},children:"Add Step"})]})]})]})})},Ge=Object(Q.a)(),Te=function(){var e=Object(pe.a)(ke),n=e.loading,t=e.data,a=(null===t||void 0===t?void 0:t.user)||[];return Object(O.jsx)(X.a,{theme:Ge,children:Object(O.jsxs)(L.a,{component:"main",maxWidth:"lg",children:[Object(O.jsx)(R.a,{}),Object(O.jsx)(V.a,{container:!0,sx:{textAlign:"left"},children:"tracktion"}),Object(O.jsxs)(V.a,{container:!0,spacing:2,sx:{justifyContent:"center",textAlign:"center"},children:[Object(O.jsxs)(V.a,{item:!0,xs:5,children:[Object(O.jsx)(B.a,{sx:{p:2,m:5,bgcolor:"primary.main",borderRadius:4},children:Object(O.jsx)(J.a,{component:"h1",variant:"h5",children:"Current Goals:"})}),Object(O.jsx)(B.a,{sx:{p:2,m:2,bgcolor:"#f5f5f5",borderRadius:4},children:Object(O.jsx)(H.a,{component:s.b,to:"/goals",color:"primary",children:n?Object(O.jsx)("h2",{children:" loading... "}):Object(O.jsx)(Ee,{})})}),Object(O.jsx)(B.a,{sx:{p:2,m:2,bgcolor:"#f5f5f5",borderRadius:4},children:Object(O.jsx)(H.a,{children:n?Object(O.jsx)("h2",{children:" loading... "}):Object(O.jsx)(Ee,{user:a})})}),Object(O.jsx)(B.a,{children:Object(O.jsx)(_e,{})})]}),Object(O.jsxs)(V.a,{item:!0,xs:5,children:[Object(O.jsx)(B.a,{sx:{p:2,m:5,bgcolor:"primary.main",borderRadius:4},children:Object(O.jsx)(J.a,{component:"h1",variant:"h5",children:"Current Habits:"})}),Object(O.jsx)(B.a,{children:n?Object(O.jsx)("h2",{children:" loading... "}):Object(O.jsx)(ye,{user:a})}),Object(O.jsx)(B.a,{children:Object(O.jsx)(ve,{})})]})]})]})})};function He(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(Ee,{}),Object(O.jsx)(_e,{})]})}function Re(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(ye,{}),Object(O.jsx)(ve,{})]})}var Fe=Object(d.a)({uri:"/graphql"}),Ue=Object(u.a)((function(e,n){var t=n.headers,a=localStorage.getItem("id_token");return{headers:Object(o.a)(Object(o.a)({},t),{},{authorization:a?"Bearer ".concat(a):""})}})),qe=new j.a({link:Ue.concat(Fe),cache:new b.a});var Ne=function(){return Object(O.jsx)(m.a,{client:qe,children:Object(O.jsx)(s.a,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)(x,{}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",component:je}),Object(O.jsx)(l.a,{path:"/signup",component:ue}),Object(O.jsx)(l.a,{path:"/signin",component:je}),Object(O.jsx)(l.a,{path:"/home",component:Te}),Object(O.jsx)(l.a,{path:"/goals",component:He}),Object(O.jsx)(l.a,{path:"/habits",component:Re}),Object(O.jsx)(l.a,{default:!0,component:Oe})]}),Object(O.jsx)(A,{})]})})})},Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(Ne,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");Ve?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Be(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Be(n,e)}))}}()}},[[183,1,2]]]);
//# sourceMappingURL=main.958c3678.chunk.js.map